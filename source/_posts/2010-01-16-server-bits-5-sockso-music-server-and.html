---
layout: post
title: "Server-Bits #5: Sockso Music Server and the Joys of SSL"
date: 2010-01-16T11:43:00-05:00
categories:
 - Server
 - Linux
 - Server-Bits
---

<div class='post'>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_n_EhibyRQzg/S1HscGrBpNI/AAAAAAAAANU/2hZ0DtAWFfo/s1600-h/SocksoShot.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="179" src="http://4.bp.blogspot.com/_n_EhibyRQzg/S1HscGrBpNI/AAAAAAAAANU/2hZ0DtAWFfo/s320/SocksoShot.png" width="320" /></a><br /></div>Sockso!! Sockso is a music streaming server program. It will take into account any folders you have on your computer, index the music from them, then create an online-accessible database which you can stream from. Your entire music collection: Working anywhere the internet and flash will. Lets get started:<br /><ol><li>Head over to <a href="http://sockso.pu-gh.com/" target="_blank">http://sockso.pu-gh.com/</a> and download Sockso. If you're running this through ssh, use this command to download it: <b>wget <a href="http://sockso.googlecode.com/files/sockso-1.2.1.zip" target="_blank">http://sockso.googlecode.com/files/sockso-1.2.1.zip</a></b></li><li>Then extract the files - <b>unzip sockso-1.2.1.zip</b></li><li>Then we'll move it to the /var directory - <b>mv sockso-1.2.1&nbsp; /var</b></li><li>Next, we'll jump into the sockso directory - <b>cd /var/sockso-1.2.1/</b></li><li>But we can't run it just yet, we don't have the java runtime environment install on our server, but don't fret, its but a command away.</li><li><b>sudo apt-get install openjdk-6-jre</b></li><li>Now we can launch Sockso <i><b>[This method of launching will launch Sockso with https forced and without a graphical interface, if you want to run unsecured or with a graphical interface, just remove either (or both) of those switches] </b></i>-<b> cd /var/sockso-1.2.1 &amp;&amp; java -jar /var/sockso-1.2.1/sockso.jar "$@" --ssl --nogui</b></li><li>Now you can type <b>'help'</b> to see your choice of commands. Running Sockso through the terminal limits you in some ways, to gain the full feature set, plug in a monitor and check out the sockso GUI. <i><b>[The easiest way of launching the Sockso GUI is by running 'sh /var/sockso-1.2.1/linux.sh]</b></i></li><li>Now lets add a folder for Sockso to watch - <b>coladd /home/username/Music/</b></li><li>This could take a while to add to Sockso... When it adds a folder, it indexes all of the files into a database that it can then pull from.</li><li>Next, we should add a user to the system - <b>useradd username password <a href="mailto:emailaddress@hostnamehere.com" target="_blank">emailaddress@hostnamehere.com</a></b></li><li>The default port for Sockso is 4444, but you can change this with - <b>propset server.port [port number]</b></li><li>All of the settings can be shown with <b>proplist</b> and changed with <b>propset</b>.</li><li>The only thing left to do now is test it! Head over to <i><b>https</b>://<a href="http://yourhostnamehere.com:4444/">yourhostnamehere.com:4444</a></i> to test it out! <i><b>[You must use https if you have --ssl enabled, otherwise, use http]</b>.</i></li><li>I recommend using the commands <b>"propset users.disableRegistration yes" </b>and <b>"propset users.requireLogin yes"</b> to lock down your media streaming to only those users you specify, but this is up to you.</li><li>Have fun streaming!<br /></li></ol><br />One of the cooler parts about running a linux box is the ability to add things to what's called your&nbsp; <i>.bashrc </i>file. This file can do anything from setting environment variables, to running a startup command when you log in, to setting program aliases. We we be doing the latter with Sockso. The command to run Sockso securely is long, arduous, and complicated, by adding a single line to the .bashrc file, we'll turn this command into a single word. <b><i>[NOTE: You will have to restart your bash session for the changes to take effect. This means either logging out of ssh and logging back in, or closing the terminal and opening a new one.]</i></b><br /><br /><br /><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">To add a line to your .bashrc file, use the following command: <b>echo "</b><b>cd /var/sockso-1.2.1 &amp;&amp; java -jar /var/sockso-1.2.1/sockso.jar "$@" --ssl --nogui" &gt;&gt; ~/.bashrc<br /></b><br /></blockquote><div><br />Ok, let me explain this one.. The <b>echo</b> command just throws text on the screen, but it can also be used with a redirect to throw text in a file as well. Right now, you are throwing that big long command in quotes into the file <b>~/.bashrc</b>. "~" or "Tilde" is a very short way to say "My Home Directory" and the .bashrc is the text file located in your home directory. Now, the part in the middle of these two, "&gt;&gt;", this is output redirection. Instead of echo throwing text into the terminal, it will instead append that text into the file of your choice (in this case, your .bashrc file). Doubles (&gt;&gt;) will add the output to the end of the file, while a single redirect (&gt;) will <b>completely replace the file</b>. You should probably be careful with this one. You can redirect output for just about any program in a bash shell, it comes in hand for many many things. For further reading on <a href="http://www.skorks.com/2009/09/output-redirection-with-bash/">Bash Redirection head over here</a>, a wonderful noobie-friendly post.<br /><br />And that's it for Sockso. In the future, we'll be covering remote BitTorrent administration, URL-rewriting, and Wiki's!<br /><br /><a name='more'></a><i>About Server-Bits:</i><br /><br /><br />If you've ever wanted to get started building a server, right in your own backyard, kitchen, closet, mother's closet, mother's basement, then this is the read for you. Aimed at the not-so-technical-but-willing-to-learn, this will give you everything you need to build... that monster-server you've dreamed of. <b>My goal: To give you a working, rocking server, for free, that you can use daily.</b><br /></div></div>
