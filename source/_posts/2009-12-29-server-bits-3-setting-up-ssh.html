---
layout: post
title: "Server-Bits #3: Setting up SSH"
date: 2009-12-29T09:58:00-05:00
categories:
 - Server
 - Linux
 - Server-Bits
---

<div class='post'>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_n_EhibyRQzg/SzoYyuuDWLI/AAAAAAAAANI/OQBSByg_lBc/s1600-h/ssh.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="226" src="http://1.bp.blogspot.com/_n_EhibyRQzg/SzoYyuuDWLI/AAAAAAAAANI/OQBSByg_lBc/s320/ssh.png" width="320" /></a><br /></div>Now that you have a server built, the first thing we need to do is get SSH set up. SSH will allow you to remote control your computer from anywhere that has an internet connection. <i>You will need to forward port 22 on your router if you want to hit it from the outside.</i><br /><ol><li>Just a reminder: <b>Make sure your user password is lengthy and complicated. </b>The last thing you want is for someone to waltz into your machine using the password 'password'. SSH will give an attacker <b>direct access</b> to your entire machine. While it is an extremely useful tool, it can be utter hell if misued.</li><li>Next, open up a terminal. The command you want is 'sudo apt-get install openssh-server'. <br />Now wait patiently for the program to finish installing.</li><li>If you'd like to test SSH, use the command 'ssh localhost', ssh should ask you if you would like to trust the server on the other end, then it should ask you for your password.</li><li>You have just established an SSH connection to your server. Congrats.</li><li>A few things to keep in mind about SSH: To give someone SSH access to your computer [Known as giving someone a <b>Shell Account</b>], you would create a new user as you would usually do (either through the GUI or the command 'adduser'), and they are automatically granted SSH access.</li><li>To establish an ssh connection, you will need a <i>Terminal Emulator</i>, the most popular program for Windows is called <a href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/download.html" target="_blank">PuTTY</a>. On any Linux or Mac OSX machine, you can just open up a terminal and type 'ssh <a href="mailto:username@host.com" target="_blank">username@host.com</a>' to connect (You will be using your DynDNS hostname). If your username was 'samurailink3' and your domain was '<a href="http://google.com/" target="_blank">google.com</a>', you could use 'ssh <a href="mailto:samurailink3@google.com" target="_blank">samurailink3@google.com</a>' to establish a connection.<br /><i>Note:</i> You don't have to use a domian, IP addresses work as well: 'ssh <a href="mailto:samurailink3@64.233.169.105" target="_blank">samurailink3@64.233.169.105</a>'.</li></ol><b>Cool things to try:<br /></b><br /><ol><li>On machines that are running an X-Server (Most any Linux machine), you can remotely display graphical applications with '-X': 'ssh -X <a href="mailto:samurailink3@google.com" target="_blank">samurailink3@google.com</a>', then I can run 'firefox', and the instance of FireFox over at <a href="http://google.com/" target="_blank">google.com</a> will be displayed on this screen. <i>Note:</i> This is stupidly slow. Really really slow. But it is secure.</li><li>SSH tunneling to secure otherwise insecure protocols (We will get into this in a later tutorial).</li><li>SFTP: You can use most any FTP program (Such as <a href="http://filezilla-project.org/" target="_blank">FileZilla</a>) to easily transfer files to and from the host machine [Just make sure to specify port 22!].</li><li>If you want to set a pre-login banner to SSH, create a new text file [/etc/ssh/banner] and put any text you would like in that file, save, exit your text editor <b>{Protip: You can use the command 'nano' to edit text in a terminal, you can then use Ctrl+X to exit to editor, answer yes or no to whether or not you would like to save. Example: 'nano /etc/ssh/banner'}</b>. Now, edit your sshd config file [/etc/ssh/sshd_config] and add the line 'Banner /etc/ssh/banner'. Save and exit. Next time you attempt to log into SSH, you will be greeted by whatever text is in /etc/ssh/banner!</li><li>If you would like to set a post-login message to SSH, (On Ubuntu 9.10), you must first disable update-motd. You can do this by running 'sudo update-motd --disable'. Then edit the text file [/etc/motd] to say whatever you want. When a user successfully logs into SSH, they will see whatever is in this text file.</li><li>Remember: If you change any configuration, restart your SSH server with this command 'sudo /etc/init.d/ssh restart'. <b>{Protip: Changing a configuration file for a service in Linux doesn't mean you have to restart your computer, that's the Windows way of thinking. The vast majority of the time, all you need to do is restart the service. These scripts are located in /etc/init.d/. We will cover them when the time is right.}</b></li></ol>For now: Enjoy remote administration of your machine!<br /><br /><a name='more'></a><i>About Server-Bits:</i><br /><br /><br /><h3 class="UIIntentionalStory_Message" data-ft="{&quot;type&quot;:&quot;msg&quot;}" style="font-weight: normal;"><span style="font-size: small;">If you've ever wanted to get started building a server, right in your own backyard, kitchen, closet, mother's closet, mother's basement, then this is the read for you. Aimed at the not-so-technical-but-willing-to-learn, this will give you everything you need to build... that monster-server you've dreamed of. <b>My goal: To give you a working, rocking server, for free, that you can use daily.</b></span></h3><br /><br /><ol></ol></div>
